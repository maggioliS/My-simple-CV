{"version":3,"file":"person.entity.js","sourceRoot":"","sources":["../../src/entities/person.entity.ts"],"names":[],"mappings":";;;;;;;;;;;AAAA,+CAAqF;AACrF,2BAA2B;AAC3B,qDAAiD;AACjD,2CAAuC;AAEvC,MAAa,YAAa,SAAQ,wBAAa,CAAC,oBAAQ,CAAC;IA8CrD,gCAAgC;IAChC,MAAM,CAAC,IAAI;QACP,OAAO,GAAG,CAAC,MAAM,CAAC;YACd,KAAK,EAAE,GAAG,CAAC,MAAM,EAAE,CAAC,KAAK,EAAE;YAC3B,KAAK,EAAE,GAAG,CAAC,MAAM,EAAE,CAAC,KAAK,CAAC,UAAU,CAAC;SACxC,CAAC,CAAC;IACP,CAAC;CACJ;AAnDG;IADC,eAAI,CAAC,MAAM,CAAC;;2CACC;AAKd;IAHC,mBAAQ,CAAC,iBAAM,CAAC,IAAI,CAAC,IAAI,EAAE,iBAAM,CAAC,IAAI,CAAC,MAAM,EAAE,iBAAM,CAAC,IAAI,CAAC,MAAM,CAAC;IAClE,cAAG,CAAC,CAAC,CAAC;IACN,eAAI,CAAC,MAAM,CAAC;;+CACK;AAKlB;IAHC,mBAAQ,CAAC,iBAAM,CAAC,IAAI,CAAC,IAAI,EAAE,iBAAM,CAAC,IAAI,CAAC,MAAM,EAAE,iBAAM,CAAC,IAAI,CAAC,MAAM,CAAC;IAClE,cAAG,CAAC,CAAC,CAAC;IACN,eAAI,CAAC,MAAM,CAAC;;8CACI;AAIjB;IAFC,gBAAK,CAAC,iBAAM,CAAC,IAAI,CAAC,MAAM,CAAC;IACzB,eAAI,CAAC,MAAM,CAAC;;4CACE;AAIf;IAFC,gBAAK,CAAC,iBAAM,CAAC,IAAI,CAAC,MAAM,CAAC;IACzB,mBAAQ,EAAE;;+CACO;AAIlB;IAFC,mBAAQ,CAAC,iBAAM,CAAC,IAAI,CAAC,IAAI,EAAE,iBAAM,CAAC,IAAI,CAAC,MAAM,EAAE,iBAAM,CAAC,IAAI,CAAC,MAAM,CAAC;IAClE,eAAI,CAAC,MAAM,CAAC;;2CACC;AAId;IAFC,mBAAQ,CAAC,iBAAM,CAAC,IAAI,CAAC,IAAI,EAAE,iBAAM,CAAC,IAAI,CAAC,MAAM,EAAE,iBAAM,CAAC,IAAI,CAAC,MAAM,CAAC;IAClE,eAAI,CAAC,MAAM,CAAC;;2CACC;AAId;IAFC,mBAAQ,CAAC,iBAAM,CAAC,IAAI,CAAC,IAAI,EAAE,iBAAM,CAAC,IAAI,CAAC,MAAM,EAAE,iBAAM,CAAC,IAAI,CAAC,MAAM,CAAC;IAClE,eAAI,CAAC,8BAAa,CAAC;8BACX,8BAAa;6CAAC;AAIvB;IAFC,mBAAQ,CAAC,iBAAM,CAAC,IAAI,CAAC,IAAI,EAAE,iBAAM,CAAC,IAAI,CAAC,MAAM,EAAE,iBAAM,CAAC,IAAI,CAAC,MAAM,CAAC;IAClE,eAAI,CAAC,OAAO,CAAC;;+CACK;AAInB;IAFC,gBAAK,CAAC,iBAAM,CAAC,IAAI,CAAC,MAAM,CAAC;IACzB,eAAI,CAAC,MAAM,CAAC;;6CACG;AAIhB;IAFC,gBAAK,CAAC,iBAAM,CAAC,IAAI,CAAC,MAAM,CAAC;IACzB,eAAI,CAAC,MAAM,CAAC;;+CACK;AA5CtB,oCAqDC","sourcesContent":["import { Entity, EntityExtends, Min, Required, Strip, Type } from '@juneil/entityts';\nimport * as Joi from 'joi';\nimport { AddressEntity } from './address.entity';\nimport { IdEntity } from './id.entity';\n\nexport class PersonEntity extends EntityExtends(IdEntity) {\n    @Type(String)\n    photo: string;\n\n    @Required(Entity.Mode.READ, Entity.Mode.UPDATE, Entity.Mode.CREATE)\n    @Min(2)\n    @Type(String)\n    firstname: string;\n\n    @Required(Entity.Mode.READ, Entity.Mode.UPDATE, Entity.Mode.CREATE)\n    @Min(2)\n    @Type(String)\n    lastname: string;\n\n    @Strip(Entity.Mode.CREATE)\n    @Type(String)\n    entity: string;\n\n    @Strip(Entity.Mode.CREATE)\n    @Required()\n    birthDate: number;\n\n    @Required(Entity.Mode.READ, Entity.Mode.UPDATE, Entity.Mode.CREATE)\n    @Type(String)\n    email: string;\n\n    @Required(Entity.Mode.READ, Entity.Mode.UPDATE, Entity.Mode.CREATE)\n    @Type(String)\n    phone: string;\n\n    @Required(Entity.Mode.READ, Entity.Mode.UPDATE, Entity.Mode.CREATE)\n    @Type(AddressEntity)\n    address: AddressEntity;\n\n    @Required(Entity.Mode.READ, Entity.Mode.UPDATE, Entity.Mode.CREATE)\n    @Type(Boolean)\n    isManager: boolean;\n\n    @Strip(Entity.Mode.CREATE)\n    @Type(String)\n    manager: string;\n\n    @Strip(Entity.Mode.CREATE)\n    @Type(String)\n    managerId: string;\n\n    // add more validation on entity\n    static more() {\n        return Joi.object({\n            email: Joi.string().email(),\n            phone: Joi.string().regex(/^\\d{10}$/)\n        });\n    }\n}\n"]}